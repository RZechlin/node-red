<Feature xmlns="http://www.sila-standard.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Category="core"
         FeatureVersion="1.0" MaturityLevel="Normative" Originator="org.silastandard" SiLA2Version="1.0"
         xsi:schemaLocation="http://www.sila-standard.org https://gitlab.com/SiLA2/sila_base/raw/master/schema/FeatureDefinition.xsd">
    <Identifier>SiLAService</Identifier>
    <DisplayName>SiLA Service</DisplayName>
    <Description>This Feature MUST be implemented by each SiLA Server.

        It specifies Commands and Properties to discover the Features a SiLA Server implements as well as details
        about the SiLA Server, like name, type, description, vendor and UUID.

        Any interaction described in this feature MUST not affect the behaviour of any other Feature.
    </Description>
    <Command>
        <Identifier>GetFeatureDefinition</Identifier>
        <DisplayName>Get Feature Definition</DisplayName>
        <Description>Get the Feature Definition of an implemented Feature by its fully qualified Feature Identifier.
            This command has no preconditions and no further dependencies and can be called at any time.
        </Description>
        <Observable>No</Observable>
        <Parameter>
            <Identifier>FeatureIdentifier</Identifier>
            <DisplayName>Feature Identifier</DisplayName>
            <Description>The fully qualified Feature identifier for which the Feature definition shall be retrieved.
            </Description>
            <DataType>
                <Constrained>
                    <DataType>
                        <Basic>String</Basic>
                    </DataType>
                    <Constraints>
                        <FullyQualifiedIdentifier>FeatureIdentifier</FullyQualifiedIdentifier>
                    </Constraints>
                </Constrained>
            </DataType>
        </Parameter>
        <Response>
            <Identifier>FeatureDefinition</Identifier>
            <DisplayName>Feature Definition</DisplayName>
            <Description>The Feature definition in XML format (according to the Feature Definition Schema).
            </Description>
            <DataType>
                <Constrained>
                    <DataType>
                        <Basic>String</Basic>
                    </DataType>
                    <Constraints>
                        <Schema>
                            <Type>Xml</Type>
                            <Url>https://gitlab.com/SiLA2/sila_base/raw/master/schema/FeatureDefinition.xsd</Url>
                        </Schema>
                    </Constraints>
                </Constrained>
            </DataType>
        </Response>
        <DefinedExecutionErrors>
            <Identifier>UnimplementedFeature</Identifier>
        </DefinedExecutionErrors>
    </Command>
    <Command>
        <Identifier>SetServerName</Identifier>
        <DisplayName>Set Server Name</DisplayName>
        <Description>Sets a human readable name to the Server Name Property.Command has no preconditions and
            no further dependencies and can be called at any time.
        </Description>
        <Observable>No</Observable>
        <Parameter>
            <Identifier>ServerName</Identifier>
            <DisplayName>Server Name</DisplayName>
            <Description>The human readable name to assign to the SiLA Server.</Description>
            <DataType>
                <Constrained>
                    <DataType>
                        <Basic>String</Basic>
                    </DataType>
                    <Constraints>
                        <MaximalLength>255</MaximalLength>
                    </Constraints>
                </Constrained>
            </DataType>
        </Parameter>
    </Command>
    <DefinedExecutionError>
        <Identifier>UnimplementedFeature</Identifier>
        <DisplayName>Unimplemented Feature</DisplayName>
        <Description>The Feature specified by the given Feature identifier is not implemented by the server.
        </Description>
    </DefinedExecutionError>
    <Property>
        <Identifier>ServerName</Identifier>
        <DisplayName>Server Name</DisplayName>
        <Description>Human readable name of the SiLA Server. The name can be set using the 'Set Server Name' command.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>String</Basic>
                </DataType>
                <Constraints>
                    <MaximalLength>255</MaximalLength>
                </Constraints>
            </Constrained>
        </DataType>
    </Property>
    <Property>
        <Identifier>ServerType</Identifier>
        <DisplayName>Server Type</DisplayName>
        <Description>The type of this server. It, could be, e.g., in the case of a SiLA Device the model name.
            It is specified by the implementer of the SiLA Server and MAY not be unique.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>String</Basic>
                </DataType>
                <Constraints>
                    <Pattern>[A-Z][a-zA-Z0-9]*</Pattern>
                </Constraints>
            </Constrained>
        </DataType>
    </Property>
    <Property>
        <Identifier>ServerUUID</Identifier>
        <DisplayName>Server UUID</DisplayName>
        <Description>Globally unique identifier that identifies a SiLA Server. The Server UUID MUST be generated once
            and remain the same for all times.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>String</Basic>
                </DataType>
                <Constraints>
                    <Length>36</Length>
                    <Pattern>[0-9a-f]{8}\-[0-9a-f]{4}\-[0-9a-f]{4}\-[0-9a-f]{4}\-[0-9a-f]{12}</Pattern>
                </Constraints>
            </Constrained>
        </DataType>
    </Property>
    <Property>
        <Identifier>ServerDescription</Identifier>
        <DisplayName>Server Description</DisplayName>
        <Description>Description of the SiLA Server. This should include the use and purpose of this SiLA Server.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <Basic>String</Basic>
        </DataType>
    </Property>
    <Property>
        <Identifier>ServerVersion</Identifier>
        <DisplayName>Server Version</DisplayName>
        <Description>Returns the version of the SiLA Server. A "Major" and a "Minor" version number (e.g. 1.0) MUST be
            provided,
            a Patch version number MAY be provided. Optionally, an arbitrary text, separated by an underscore MAY be
            appended, e.g. “3.19.373_mighty_lab_devices”.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>String</Basic>
                </DataType>
                <Constraints>
                    <Pattern>(0|[1-9][0-9]*)\.(0|[1-9][0-9]*)(\.(0|[1-9][0-9]*))?(_[_a-zA-Z0-9]+)?</Pattern>
                </Constraints>
            </Constrained>
        </DataType>
    </Property>
    <Property>
        <Identifier>ServerVendorURL</Identifier>
        <DisplayName>Server Vendor URL</DisplayName>
        <Description>Returns the URL to the website of the vendor or the website of the product of this SiLA Server.
            This URL SHOULD be accessible at all times.
            The URL is a Uniform Resource Locator as defined in RFC 1738.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>String</Basic>
                </DataType>
                <Constraints>
                    <Pattern>https?://.+</Pattern>
                </Constraints>
            </Constrained>
        </DataType>
    </Property>
    <Property>
        <Identifier>ImplementedFeatures</Identifier>
        <DisplayName>Implemented Features</DisplayName>
        <Description>Returns a list of fully qualified Feature identifiers of all implemented Features of this SiLA
            Server.
            This list SHOULD remain the same throughout the lifetime of the SiLA Server.
        </Description>
        <Observable>No</Observable>
        <DataType>
            <List>
                <DataType>
                    <Constrained>
                        <DataType>
                            <Basic>String</Basic>
                        </DataType>
                        <Constraints>
                            <FullyQualifiedIdentifier>FeatureIdentifier</FullyQualifiedIdentifier>
                        </Constraints>
                    </Constrained>
                </DataType>
            </List>
        </DataType>
    </Property>
</Feature>


<Feature xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.sila-standard.org" Category="tests"
         FeatureVersion="1.0" Originator="de.unigoettingen" SiLA2Version="1.0"
         xsi:schemaLocation="http://www.sila-standard.org https://gitlab.com/SiLA2/sila_base/raw/master/schema/FeatureDefinition.xsd">
<Identifier>DelayProvider</Identifier>
<DisplayName>Delay Provider</DisplayName>
<Description>Allows adding delay to calls via SiLA Client Metadata</Description>
<Metadata>
    <Identifier>Delay</Identifier>
    <DisplayName>Delay</DisplayName>
    <Description>When receiving this metadata in the context of a call, the server should wait for the specified
        duration
        before staring the requested execution
    </Description>
    <DataType>
        <Constrained>
            <DataType>
                <Basic>Integer</Basic>
            </DataType>
            <Constraints>
                <MinimalInclusive>0</MinimalInclusive>
                <Unit>
                    <Label>Millisecond</Label>
                    <Factor>1</Factor>
                    <Offset>0</Offset>
                    <UnitComponent>
                        <SIUnit>Second</SIUnit>
                        <Exponent>-3</Exponent>
                    </UnitComponent>
                </Unit>
            </Constraints>
        </Constrained>
    </DataType>
    <DefinedExecutionErrors>
        <Identifier>DelayTooLong</Identifier>
    </DefinedExecutionErrors>
</Metadata>
<DefinedExecutionError>
    <Identifier>DelayTooLong</Identifier>
    <DisplayName>Delay Too Long</DisplayName>
    <Description>The given delay was too long</Description>
</DefinedExecutionError>
</Feature>


<Feature xmlns="http://www.sila-standard.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Category="examples"
         FeatureVersion="1.0" MaturityLevel="Verified" Originator="org.silastandard" SiLA2Version="1.0"
         xsi:schemaLocation="http://www.sila-standard.org https://gitlab.com/SiLA2/sila_base/raw/master/schema/FeatureDefinition.xsd">
<Identifier>GreetingProvider</Identifier>
<DisplayName>Greeting Provider</DisplayName>
<Description>Example implementation of a minimum Feature. Provides a Greeting to the Client
    and a StartYear property, informing about the year the Server has been started.
</Description>
<Command>
    <Identifier>SayHello</Identifier>
    <DisplayName>Say Hello</DisplayName>
    <Description>Does what it says: returns "Hello SiLA 2 + [Name]" to the client.</Description>
    <Observable>No</Observable>
    <Parameter>
        <Identifier>Name</Identifier>
        <DisplayName>Name</DisplayName>
        <Description>The name, SayHello shall use to greet.</Description>
        <DataType>
            <Basic>String</Basic>
        </DataType>
    </Parameter>
    <Response>
        <Identifier>Greeting</Identifier>
        <DisplayName>Greeting</DisplayName>
        <Description>The greeting string, returned to the SiLA Client.</Description>
        <DataType>
            <Basic>String</Basic>
        </DataType>
    </Response>
</Command>
<Property>
    <Identifier>StartYear</Identifier>
    <DisplayName>Start Year</DisplayName>
    <Description>Returns the year the SiLA Server has been started in.</Description>
    <Observable>No</Observable>
    <DataType>
        <Basic>Integer</Basic>
    </DataType>
</Property>
</Feature>


<Feature xmlns="http://www.sila-standard.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Category="tests"
         FeatureVersion="1.0" Originator="de.unigoettingen" SiLA2Version="1.0"
         xsi:schemaLocation="http://www.sila-standard.org https://gitlab.com/SiLA2/sila_base/raw/master/schema/FeatureDefinition.xsd">
<Identifier>TimerProvider</Identifier>
<DisplayName>Timer Provider</DisplayName>
<Description>Provides a timer command and the current time</Description>
<Command>
    <Identifier>Countdown</Identifier>
    <DisplayName>Countdown</DisplayName>
    <Description>Count down from N to 0, then return the given message and the current time</Description>
    <Observable>Yes</Observable>
    <Parameter>
        <Identifier>N</Identifier>
        <DisplayName>N</DisplayName>
        <Description>The number from which to count down</Description>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>Integer</Basic>
                </DataType>
                <Constraints>
                    <Unit>
                        <Label>Second</Label>
                        <Factor>1</Factor>
                        <Offset>0</Offset>
                        <UnitComponent>
                            <SIUnit>Second</SIUnit>
                            <Exponent>1</Exponent>
                        </UnitComponent>
                    </Unit>
                    <MinimalInclusive>0</MinimalInclusive>
                </Constraints>
            </Constrained>
        </DataType>
    </Parameter>
    <Parameter>
        <Identifier>Message</Identifier>
        <DisplayName>Message</DisplayName>
        <Description>The message to return on completion</Description>
        <DataType>
            <Basic>String</Basic>
        </DataType>
    </Parameter>
    <Response>
        <Identifier>Message</Identifier>
        <DisplayName>Message</DisplayName>
        <Description>The message provided as parameter</Description>
        <DataType>
            <Basic>String</Basic>
        </DataType>
    </Response>
    <Response>
        <Identifier>Timestamp</Identifier>
        <DisplayName>Timestamp</DisplayName>
        <Description>The timestamp when the countdown finished</Description>
        <DataType>
            <Basic>Timestamp</Basic>
        </DataType>
    </Response>
    <IntermediateResponse>
        <Identifier>CurrentNumber</Identifier>
        <DisplayName>Current Number</DisplayName>
        <Description>The current number</Description>
        <DataType>
            <Constrained>
                <DataType>
                    <Basic>Integer</Basic>
                </DataType>
                <Constraints>
                    <MinimalExclusive>0</MinimalExclusive>
                </Constraints>
            </Constrained>
        </DataType>
    </IntermediateResponse>
</Command>
<Property>
    <Identifier>CurrentTime</Identifier>
    <DisplayName>Current Time</DisplayName>
    <Description>The current time</Description>
    <Observable>Yes</Observable>
    <DataType>
        <Basic>Time</Basic>
    </DataType>
</Property>
</Feature>
